#include <iostream>
#include <vector>
#include <fstream>
using namespace std;

struct Order
{
    int orderID;
    string customerName;
    int items;
    float price;
};

int main()
{
    vector<Order> orders;
    int n;

    cout << "Enter number of orders: ";
    cin >> n;

    for(int i = 0; i < n; i++)
    {
        Order o;
        cout << "\nEnter Order ID: ";
        cin >> o.orderID;
        cout << "Enter Customer Name: ";
        cin >> o.customerName;
        cout << "Enter Number of Items: ";
        cin >> o.items;
        cout << "Enter Price per Item: ";
        cin >> o.price;

        if(o.items <= 0 || o.price <= 0)
        {
            cout << "Invalid input!\n";
            i--;
            continue;
        }

        orders.push_back(o);
    }

    ofstream fout("priority_orders.txt");

    if(!fout)
    {
        cout << "File error!\n";
        return 0;
    }

    for(int i = 0; i < n; i++)
    {
        float total = orders[i].items * orders[i].price;

        if(total > 5000)
        {
            fout << orders[i].orderID << " "
                 << orders[i].customerName << " "
                 << total << endl;
        }
    }

    fout.close();

    ifstream fin("priority_orders.txt");

    if(!fin)
    {
        cout << "File could not open!\n";
        return 0;
    }

    cout << "\nPriority Orders:\n";
    int id;
    string name;
    float total;

    while(fin >> id >> name >> total)
    {
        cout << "Order ID: " << id
             << " Customer: " << name
             << " Total Bill: " << total << endl;
    }

    fin.close();
    return 0;
}
